# inclusivewriting

[![Python package](https://github.com/johnsamuelwrites/inclusive/actions/workflows/pythonpackage.yml/badge.svg)](https://github.com/johnsamuelwrites/inclusive/actions/workflows/pythonpackage.yml) 
[![Pylint](https://github.com/johnsamuelwrites/inclusive/actions/workflows/pylint.yml/badge.svg)](https://github.com/johnsamuelwrites/inclusive/actions/workflows/pylint.yml)
[![CodeQL](https://github.com/johnsamuelwrites/inclusive/actions/workflows/codeql-analysis.yml/badge.svg)](https://github.com/johnsamuelwrites/inclusive/actions/workflows/codeql-analysis.yml)

`inclusivewriting` is a **multilingual application** for **inclusive writing**. Languages evolve. Developed in Python, this application helps to write texts in an inclusive way. The application detects possibly problematic phrases and suggests some replacements. 

The application is configurable and it permits the users to add
* support for new languages
* add new suggestions to existing languages
* update suggestions

## Architecture
`inclusivewriting` now includes:
* A context-aware rule engine (`inclusivewriting/rules.py`) with phrase-aware matching and rule metadata.
* A multilingual rule-pack loader/validator (`inclusivewriting/rulepacks.py`) that reads resources from `configuration.json`.
* Backward-compatible suggestion APIs in `inclusivewriting/suggestions.py` built on top of rule-packs.

## Usage
To use `inclusivewriting`, specify the language and enter a text

```
python -m inclusivewriting en
```

![Running inclusivewriting](https://raw.githubusercontent.com/johnsamuelwrites/inclusive/master/inclusivewriting/screenshot.png "Running inclusivewriting")

Here, `en` corresponds to the English language.


It is also possible to specify a file.

```
python3 -m inclusivewriting en --filepath filepath
```

### CLI options
```
python -m inclusivewriting en --filepath filepath --format text
python -m inclusivewriting en --filepath filepath --format json
python -m inclusivewriting en --filepath filepath --quiet
python -m inclusivewriting en --filepath filepath --no-color
```

### Exit codes
* `0`: no issues found
* `1`: one or more issues found
* `2`: invalid input/format or runtime error

### JSON output format
The `--format json` output contains:
* `language`
* `issues_found`
* `updated_text` (with `<change>...</change>` tags)
* `matches` (list of structured findings with `rule_id`, `start`, `end`, `match`, `replacements`, `severity`, `confidence`, `rationale`, `auto_fix_safe`)

## Installation
```
pip install inclusivewriting
```

## Resources
[Resources](inclusivewriting/resources/README.md): Resources and references to sources in different languages

## Contribute
There are three ways to contribute:
* Add a missing language in [resources](./inclusivewriting/resources) folder and add it to [configuration.json](./inclusivewriting/configuration.json).
* Update existing lists of already existing languages. For example, in [English](./inclusivewriting/resources/en/list.json).
* Translate `inclusivewriting`. Check existing or add new [locales](./inclusivewriting/locales).

A detailed desciption is present [here](./inclusivewriting/CONTRIBUTE.md).

## Test cases and coverage
All the test cases can be run in  the following manner
```
$ python3 -m tests.tests
```

Resource schema validation can be run separately:
```
$ python -m unittest tests.resource_schema_test
```

Code coverage report can also be generated by running the unit tests using the coverage tool.
```
$ coverage run --source=inclusivewriting -m unittest tests.tests
$ coverage report -m
```

## Author
* John Samuel

## Licence
All code are released under GPLv3+ licence. The associated documentation and other content are released under [CC-BY-SA](http://creativecommons.org/licenses/by-sa/4.0/).
